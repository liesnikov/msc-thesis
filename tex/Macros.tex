%% Macros
\newcommand{\M}[1]{\ensuremath{\textit{#1}}} % \mathup
\newcommand{\imp}{\mathbin{\rightarrow}~}
\newcommand{\Imp}{\mathbin{\Rightarrow}~}
\renewcommand{\iff}{\mathbin{\leftrightarrow}}
\newcommand*{\defeq}{\mathrel{\vcenter{\baselineskip0.5ex \lineskiplimit0pt
                     \hbox{\scriptsize.}\hbox{\scriptsize.}}}%
                     =}

\newcommand{\dd}[2]{\ensuremath{#1_1,\dots,#1_{#2}}}  % x_1,...,x_n
\newcommand{\ddd}[2]{\ensuremath{#1_1\dots\,#1_{#2}}}  % x_1...x_n
\newcommand{\col}{\colon}
\newcommand{\set}[1]{\ensuremath{\left\{ #1 \right\}}}
\newcommand{\mset}[2]{\set{\,#1\mid#2\,}}
\newcommand{\eset}{\ensuremath{\emptyset}}
\newcommand{\incl}{\ensuremath{\subseteq}}
\newcommand{\bnfor}{~|~} %|
\newcommand{\qedsq}{\hfill\ensuremath{_\blacksquare}}

\newcommand{\true}{\textsf{true}\xspace}
\newcommand{\false}{\textsf{false}\xspace}
\newcommand{\andb}{\mathop{\&\&}}

\newcommand{\True}{\textsf{True}\xspace}
\newcommand{\False}{\textsf{False}\xspace}

\newcommand{\blankpage}{\newpage
\thispagestyle{empty}
\mbox{}
\newpage}

\renewcommand\qed {{% set up
\parfillskip=0pt % so \par doesnt push \square to left
\widowpenalty=10000 % so we dont break the page before \square
\displaywidowpenalty=10000 % ditto
\finalhyphendemerits=0 % TeXbook exercise 14.32
%
% horizontal
\leavevmode % \nobreak means lines not pages
\unskip % remove previous space or glue
\nobreak % don't break lines
\hfil % ragged right if we spill over
\penalty50 % discouragement to do so
\hskip.2em % ensure some space
\null % anchor following \hfill
\hfill % push \square to right
$\square$% % the end-of-proof mark
%
% vertical
\par}} % build paragraph

% Separation logicky notation
% mostly from iris/tex/iris.sty
% \newcommand*{\Sep}[1][]{\scalerel*{\ast}{\sum}\ifthenelse{\isempty{#1}}{}{_{#1}\;}}
\newcommand\wand{\ensuremath{\mathrel{-\mkern-6mu*}}}
\newcommand\emp{\textsf{emp}\xspace}
\newcommand\iMatch{\coqe{iMatch}}

\newcommand\expr{\ensuremath{\text{exp}}}

\newcommand{\Prop}{\textsl{Prop}\xspace}
\newcommand\Affine[1]{\ensuremath{\text{Affine}(#1)}}
\newcommand\Absorbing[1]{\ensuremath{\text{Absorbing}(#1)}}
\newcommand\Persistent[1]{\ensuremath{\text{Persistent}(#1)}}

\newcommand\pure[1]{\ensuremath{\ulcorner #1 \urcorner}}
\newcommand{\affine}{\ensuremath{\langle\text{affine}\rangle}}
\newcommand{\absorb}{\ensuremath{\langle\text{absorb}\rangle}}
\newcommand{\pers}{\ensuremath{\langle\text{pers}\rangle}}
\newcommand{\intuit}{\always}
% \newcommand{\later}{\mathop{{\triangleright}}}

\newcommand\entailsOne[2]{\ensuremath{#1 \,\Vdash\, #2}}
\newcommand\entails[3]{\ensuremath{#1 ;\,\, #2 \,\Vdash\, #3}}
\newcommand\IntuD{\ensuremath{\Gamma}}
\newcommand\SpatD{\ensuremath{\Pi}}
\newcommand\entailsOneD[1]{\ensuremath{\entailsOne {\SpatD} {#1}}}
\newcommand\entailsD[1]{\ensuremath{\entails {\IntuD} {\SpatD} {#1}}}